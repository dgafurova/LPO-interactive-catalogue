"use strict";(self["webpackChunkmiem_project"]=self["webpackChunkmiem_project"]||[]).push([[13],{930:function(e,l,a){a.d(l,{A:function(){return L}});var t=a(641),o=a(33);const n={class:"container"},i={key:0,class:"loading-message"},s={key:1,class:"error-message"},r={key:2,class:"content"};function u(e,l,a,u,p,c){const d=(0,t.g2)("GrapfForCj");return(0,t.uX)(),(0,t.CE)("div",n,[p.isLoading?((0,t.uX)(),(0,t.CE)("div",i,l[0]||(l[0]=[(0,t.Lk)("div",{class:"spinner"},null,-1),(0,t.Lk)("p",null,"Загрузка данных...",-1)]))):p.errorMessage?((0,t.uX)(),(0,t.CE)("div",s,[(0,t.Lk)("p",null,(0,o.v_)(p.errorMessage),1)])):((0,t.uX)(),(0,t.CE)("div",r,[l[1]||(l[1]=(0,t.Lk)("h3",null,"Сечение Пуанкаре с константой Якоби",-1)),(0,t.bF)(d,{dataPoints:p.dataPoints,plane:a.plane},null,8,["dataPoints","plane"])]))])}var p=a(980),c={components:{GrapfForCj:p.A},props:{librationPoint:{type:String,required:!0},cj:{type:Number,default:1},d:{type:Number,default:1},plane:{type:String,default:"x = 0"}},data(){return{isLoading:!1,errorMessage:"",dataPoints:[]}},computed:{fetchParams(){return{librationPoint:this.librationPoint,cj:this.cj,d:this.d,plane:this.plane}}},watch:{fetchParams:{handler(){this.fetchData()},deep:!0,immediate:!0}},methods:{async fetchData(){this.isLoading=!0,this.errorMessage="",this.dataPoints=[];try{const e=await fetch(`https://orbital-catalog.auditory.ru/api/v1/poincare_sections/cj?libration_point=${encodeURIComponent(this.librationPoint)}&cj=${encodeURIComponent(this.cj||1)}&d=${encodeURIComponent(this.d||1)}&plane=${encodeURIComponent(this.plane||"x = 0")}`,{method:"GET"});if(!e.ok)throw new Error("Ошибка при загрузке данных");const l=await e.json();this.dataPoints=l||[]}catch(e){console.error("Error fetching data:",e),this.errorMessage=e.message}finally{this.isLoading=!1}}}},d=a(262);const b=(0,d.A)(c,[["render",u],["__scopeId","data-v-6abd562a"]]);var L=b},539:function(e,l,a){a.d(l,{A:function(){return f}});var t=a(641),o=a(751);const n={class:"container"},i={key:0,class:"component"},s={class:"coordinates"},r={key:1,class:"component"},u={class:"coordinates"},p={key:2,class:"component"},c={key:3,class:"component"},d={class:"coordinates"},b={key:4,class:"component"};function L(e,l,a,L,m,h){const v=(0,t.g2)("customSelect");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.bF)(v,{modelValue:m.localSelectedOption,"onUpdate:modelValue":l[0]||(l[0]=e=>m.localSelectedOption=e),options:m.options},null,8,["modelValue","options"]),"Орбита в 3D"===m.localSelectedOption?((0,t.uX)(),(0,t.CE)("div",i,[l[30]||(l[30]=(0,t.Lk)("h3",null,"Начальные координаты орбиты",-1)),(0,t.Lk)("div",s,[l[28]||(l[28]=(0,t.Lk)("label",{for:"x"},"X (км)",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>m.localInputs.x=e),id:"x",type:"number",step:"any",onInput:l[2]||(l[2]=e=>h.validateInput(e,"x")),onBlur:l[3]||(l[3]=e=>h.emitCoordinate("x"))},null,544),[[o.Jo,m.localInputs.x]]),l[29]||(l[29]=(0,t.Lk)("label",{for:"z"},"Z (км)",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>m.localInputs.z=e),id:"z",type:"number",step:"any",onInput:l[5]||(l[5]=e=>h.validateInput(e,"z")),onBlur:l[6]||(l[6]=e=>h.emitCoordinate("z"))},null,544),[[o.Jo,m.localInputs.z]])])])):(0,t.Q3)("",!0),"Проекции орбиты"===m.localSelectedOption?((0,t.uX)(),(0,t.CE)("div",r,[l[33]||(l[33]=(0,t.Lk)("h3",null,"Проекции орбиты",-1)),(0,t.Lk)("div",u,[l[31]||(l[31]=(0,t.Lk)("label",{for:"x"},"X (км)",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[7]||(l[7]=e=>m.localInputs.x=e),id:"x",type:"number",step:"any",onInput:l[8]||(l[8]=e=>h.validateInput(e,"x")),onBlur:l[9]||(l[9]=e=>h.emitCoordinate("x"))},null,544),[[o.Jo,m.localInputs.x]]),l[32]||(l[32]=(0,t.Lk)("label",{for:"z"},"Z (км)",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[10]||(l[10]=e=>m.localInputs.z=e),id:"z",type:"number",step:"any",onInput:l[11]||(l[11]=e=>h.validateInput(e,"z")),onBlur:l[12]||(l[12]=e=>h.emitCoordinate("z"))},null,544),[[o.Jo,m.localInputs.z]])])])):(0,t.Q3)("",!0),"График изменения параметра в семействе"===m.localSelectedOption?((0,t.uX)(),(0,t.CE)("div",p,[l[34]||(l[34]=(0,t.Lk)("h3",null,"График изменения параметра в семействе",-1)),l[35]||(l[35]=(0,t.Lk)("label",{for:"family"},"Выберите семейство",-1)),(0,t.bF)(v,{modelValue:m.selectedFamilyLabel,"onUpdate:modelValue":l[13]||(l[13]=e=>m.selectedFamilyLabel=e),options:h.familyLabels},null,8,["modelValue","options"]),l[36]||(l[36]=(0,t.Lk)("label",{for:"paramX"},"Параметр по оси X",-1)),(0,t.bF)(v,{modelValue:m.paramX,"onUpdate:modelValue":l[14]||(l[14]=e=>m.paramX=e),options:m.paramOptions},null,8,["modelValue","options"]),l[37]||(l[37]=(0,t.Lk)("label",{for:"paramY"},"Параметр по оси Y",-1)),(0,t.bF)(v,{modelValue:m.paramY,"onUpdate:modelValue":l[15]||(l[15]=e=>m.paramY=e),options:m.paramOptions},null,8,["modelValue","options"])])):(0,t.Q3)("",!0),"Сечение Пуанкаре одной орбиты"===m.localSelectedOption?((0,t.uX)(),(0,t.CE)("div",c,[l[40]||(l[40]=(0,t.Lk)("h3",null,"Сечение Пуанкаре одной орбиты",-1)),(0,t.Lk)("div",d,[l[38]||(l[38]=(0,t.Lk)("label",{for:"x"},"X (км)",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[16]||(l[16]=e=>m.localInputs.x=e),id:"x",type:"number",step:"any",onInput:l[17]||(l[17]=e=>h.validateInput(e,"x")),onBlur:l[18]||(l[18]=e=>h.emitCoordinate("x"))},null,544),[[o.Jo,m.localInputs.x]]),l[39]||(l[39]=(0,t.Lk)("label",{for:"z"},"Z (км)",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[19]||(l[19]=e=>m.localInputs.z=e),id:"z",type:"number",step:"any",onInput:l[20]||(l[20]=e=>h.validateInput(e,"z")),onBlur:l[21]||(l[21]=e=>h.emitCoordinate("z"))},null,544),[[o.Jo,m.localInputs.z]])]),l[41]||(l[41]=(0,t.Lk)("label",{for:"plane"},"Выберите плоскость",-1)),(0,t.bF)(v,{modelValue:m.poincarePlane,"onUpdate:modelValue":l[22]||(l[22]=e=>m.poincarePlane=e),options:m.planeOptions},null,8,["modelValue","options"])])):(0,t.Q3)("",!0),"Сечение Пуанкаре с константой Якоби"===m.localSelectedOption?((0,t.uX)(),(0,t.CE)("div",b,[l[42]||(l[42]=(0,t.Lk)("h3",null,"Сечение Пуанкаре с константой Якоби",-1)),l[43]||(l[43]=(0,t.Lk)("label",{for:"librationPoint"},"Выберите точку либрации",-1)),(0,t.bF)(v,{modelValue:m.librationPoint,"onUpdate:modelValue":l[23]||(l[23]=e=>m.librationPoint=e),options:m.librationPointOptions},null,8,["modelValue","options"]),l[44]||(l[44]=(0,t.Lk)("label",{for:"plane"},"Выберите плоскость",-1)),(0,t.bF)(v,{modelValue:m.poincarePlane,"onUpdate:modelValue":l[24]||(l[24]=e=>m.poincarePlane=e),options:m.planeOptions},null,8,["modelValue","options"]),l[45]||(l[45]=(0,t.Lk)("label",{for:"jacobiConstant"},"Константа Якоби (C)",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[25]||(l[25]=e=>m.jacobiConstantLocal=e),type:"number",step:"any"},null,512),[[o.Jo,m.jacobiConstantLocal,void 0,{number:!0}]]),l[46]||(l[46]=(0,t.Lk)("label",{for:"error"},"Погрешность (d)",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[26]||(l[26]=e=>m.jacobiError=e),type:"number",step:"0.00001"},null,512),[[o.Jo,m.jacobiError,void 0,{number:!0}]])])):(0,t.Q3)("",!0),(0,t.Lk)("button",{onClick:l[27]||(l[27]=(...e)=>h.buildGraph&&h.buildGraph(...e))},"Построить")])}var m=a(736),h={components:{customSelect:m.A},props:{orbitCoordinates:{type:Object,required:!0},selectedOption:{type:String,required:!0},jacobiConstant:{type:Number,default:null}},emits:["update:selectedOption","update-orbit-coordinates","find-nearest-orbit","update-poincare-plane","build-poincare-section-with-cj","build-parameter-change-graph"],data(){return{localSelectedOption:this.selectedOption,localInputs:{x:this.formatNumber(this.orbitCoordinates.x),y:this.formatNumber(this.orbitCoordinates.y),z:this.formatNumber(this.orbitCoordinates.z),vx:this.formatNumber(this.orbitCoordinates.vx),vy:this.formatNumber(this.orbitCoordinates.vy),vz:this.formatNumber(this.orbitCoordinates.vz)},paramX:null,paramY:null,poincarePlane:this.$store.state.poincarePlane||null,jacobiConstantLocal:this.jacobiConstant??1,jacobiError:1,options:["Орбита в 3D","Проекции орбиты","График изменения параметра в семействе","Сечение Пуанкаре одной орбиты","Сечение Пуанкаре с константой Якоби"],paramOptions:["Период","Амплитуда по X","Амплитуда по Y","Амплитуда по Z","Расстояние до Земли","Расстояние до Луны","Константа Якоби","Максимальный множитель Флоке"],planeOptions:["x = 0","y = 0","z = 0","vx = 0","vy = 0","vz = 0"],librationPoint:"L1",librationPointOptions:["L1","L2"],family:null,selectedFamilyLabel:null,familyOptions:[{label:"Горизонтальные орбиты Ляпунова, L1",value:"L1.L"},{label:"Горизонтальные орбиты Ляпунова, L2",value:"L2.L"},{label:"Вертикальные орбиты Ляпунова, L1",value:"L1.V"},{label:"Вертикальные орбиты Ляпунова, L2",value:"L2.V"},{label:"Аксиальные орбиты, L1",value:"L1.A"},{label:"Аксиальные орбиты, L2",value:"L2.A"},{label:"Гало орбиты, L1",value:"L1.H"},{label:"Гало орбиты, L2",value:"L2.H"},{label:"Двухпериодические квазигоризонтальные орбиты, L1",value:"L1.L.2P1"},{label:"Двухпериодические квазигоризонтальные орбиты, L2",value:"L2.L.2P1"},{label:"Трехпериодические квазигоризонтальные орбиты, L1",value:"L1.L.3P1"},{label:"Трехпериодические квазигоризонтальные орбиты, L2",value:"L2.L.3P1"},{label:"Четырехпериодические квазигоризонтальные орбиты, L1",value:"L1.L.4P1"},{label:"Четырехпериодические квазигоризонтальные орбиты, L2",value:"L2.L.4P1"},{label:"Четырехпериодические квазигоризонтальные орбиты, L1 (2P1.2P1)",value:"L1.L.2P1.2P1"},{label:"Четырехпериодические квазигоризонтальные орбиты, L2 (2P1.2P1)",value:"L2.L.2P1.2P1"},{label:"Шестипериодические квазигоризонтальные орбиты, L1 (2P1.3P1)",value:"L1.L.2P1.3P1"},{label:"Шестипериодические квазигоризонтальные орбиты, L1 (2P1.3P2)",value:"L1.L.2P1.3P2"},{label:"Шестипериодические квазигоризонтальные орбиты, L2 (2P1.3P1)",value:"L2.L.2P1.3P1"},{label:"Шестипериодические квазигоризонтальные орбиты, L2 (2P1.3P2)",value:"L2.L.2P1.3P2"},{label:"Двухпериодические квазигоризонтальные орбиты, L1 (2P1.Tan)",value:"L1.L.2P1.Tan"},{label:"Двухпериодические квазигоризонтальные орбиты, L2 (2P1.Tan)",value:"L2.L.2P1.Tan"},{label:"Двухпериодические квазигало орбиты, L1 (2P1)",value:"L1.H.2P1"},{label:"Двухпериодические квазигало орбиты, L1 (2P2)",value:"L1.H.2P2"},{label:"Двухпериодические квазигало орбиты, L1 (2P3)",value:"L1.H.2P3"},{label:"Двухпериодические квазигало орбиты, L2 (2P1)",value:"L2.H.2P1"},{label:"Двухпериодические квазигало орбиты, L2 (2P2)",value:"L2.H.2P2"},{label:"Трехпериодические квазигало орбиты, L1 (3P1)",value:"L1.H.3P1"},{label:"Трехпериодические квазигало орбиты, L1 (3P2)",value:"L1.H.3P2"},{label:"Трехпериодические квазигало орбиты, L1 (3P3)",value:"L1.H.3P3"},{label:"Трехпериодические квазигало орбиты, L2 (3P1)",value:"L2.H.3P1"},{label:"Квазипериодические орбиты, L1",value:"L1.Q"}]}},methods:{formatNumber(e,l=2){if(null===e||void 0===e)return"0";const a=Number(e).toFixed(l);return a.replace(/\.?0+$/,"")},parseCoordinate(e){const l=parseFloat(e);return isNaN(l)?0:l},validateInput(e,l){const a=e.target.value,t=a.replace(/[^0-9.-]/g,"");t!==a&&(this.localInputs[l]=t)},emitCoordinate(e){const l=this.parseCoordinate(this.localInputs[e]),a=this.orbitCoordinates[e];l!==a&&this.$emit("update-orbit-coordinates",{...this.orbitCoordinates,[e]:l})},async buildGraph(){if(this.$emit("update:selectedOption",this.localSelectedOption),"Сечение Пуанкаре одной орбиты"===this.localSelectedOption)this.$emit("find-nearest-orbit"),this.$emit("update-poincare-plane",this.poincarePlane);else if("Орбита в 3D"===this.localSelectedOption||"Проекции орбиты"===this.localSelectedOption)this.$emit("find-nearest-orbit");else if("Сечение Пуанкаре с константой Якоби"===this.localSelectedOption)console.log("Построение сечения Пуанкаре с константой Якоби:",this.jacobiConstantLocal),this.$emit("build-poincare-section-with-cj",{librationPoint:this.librationPoint,cj:this.jacobiConstantLocal,d:this.jacobiError,plane:this.poincarePlane});else if("График изменения параметра в семействе"===this.localSelectedOption){if(!this.selectedFamilyLabel||!this.paramX||!this.paramY)return void alert("Пожалуйста, выберите семейство и параметры для осей X и Y");const e=this.labelToValueMap[this.selectedFamilyLabel];this.$emit("build-parameter-change-graph",{family:e,paramX:this.paramX,paramY:this.paramY})}else console.log("Неизвестная опция:",this.localSelectedOption)}},watch:{selectedOption(e){this.localSelectedOption=e},localSelectedOption(e){this.$emit("update:selectedOption",e)},orbitCoordinates:{handler(e){console.log("orbitCoordinates изменились:",e),this.localInputs.x=this.formatNumber(e.x),this.localInputs.z=this.formatNumber(e.z)},deep:!0},jacobiConstant(e){this.jacobiConstantLocal=e}},computed:{familyLabels(){return this.familyOptions.map((e=>e.label))},labelToValueMap(){return this.familyOptions.reduce(((e,l)=>(e[l.label]=l.value,e)),{})}}},v=a(262);const P=(0,v.A)(h,[["render",L],["__scopeId","data-v-52145944"]]);var f=P},827:function(e,l,a){a.d(l,{A:function(){return b}});var t=a(641);const o={class:"container"},n={class:"logo-container"},i=["src"],s={class:"links"};function r(e,l,a,r,u,p){const c=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("nav",null,[(0,t.Lk)("div",o,[(0,t.Lk)("div",n,[(0,t.Lk)("img",{src:r.logo,alt:"Logo",class:"logo-image"},null,8,i),l[0]||(l[0]=(0,t.Lk)("div",{class:"logo-text"},[(0,t.Lk)("p",null,"Интерактивный каталог"),(0,t.Lk)("p",null,"орбит вокруг точек либрации")],-1))]),(0,t.Lk)("div",s,[(0,t.bF)(c,{to:"/"},{default:(0,t.k6)((()=>l[1]||(l[1]=[(0,t.Lk)("p",{class:"link"},"Просмотр",-1)]))),_:1}),(0,t.bF)(c,{to:"/build"},{default:(0,t.k6)((()=>l[2]||(l[2]=[(0,t.Lk)("p",{class:"link"},"Построение",-1)]))),_:1})])])])}var u=a(935),p={setup(){return{logo:u}}},c=a(262);const d=(0,c.A)(p,[["render",r],["__scopeId","data-v-3db32fb2"]]);var b=d}}]);
//# sourceMappingURL=app-f4a6e080.7f16bbe1.js.map